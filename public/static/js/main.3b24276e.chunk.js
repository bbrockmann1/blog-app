(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{176:function(e,t,n){},191:function(e,t,n){},193:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(112),r=n.n(i),s=(n(176),n(6)),o=n(213),l=n(210),j=n(31),u=n(17),b=Object(u.b)({key:"blogs",default:[]}),O=(Object(u.b)({key:"signup",default:!1}),Object(u.b)({key:"errors",default:[]})),d=Object(u.b)({key:"currentUser",default:[]}),h=Object(u.b)({key:"email",default:""}),p=Object(u.b)({key:"password",default:""}),x=(Object(u.b)({key:"filteredBlogs",default:""}),Object(u.b)({key:"value",default:"All"})),f=n(2),g=function(){var e=Object(c.useState)("home"),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(u.c)(d),r=Object(s.a)(i,2),b=(r[0],r[1]),h=Object(u.c)(O),p=Object(s.a)(h,2),x=p[0],g=p[1];function v(e){a(e.target.name)}return Object(f.jsx)(o.a,{inverted:!0,children:Object(f.jsxs)(l.a,{inverted:!0,pointing:!0,secondary:!0,children:[Object(f.jsx)(l.a.Item,{name:"home",active:"home"===n,onClick:v,as:j.b,to:"/"}),Object(f.jsx)(l.a.Item,{name:"my blogs",active:"my blogs"===n,onClick:v,as:j.b,to:"/blogs"}),Object(f.jsx)(l.a.Item,{name:"make a new blog",active:"make a new blog"===n,onClick:v,as:j.b,to:"/create"}),Object(f.jsx)(l.a.Item,{position:"right",name:"login",active:"login"===n,onClick:v,as:j.b,to:"/login"}),Object(f.jsx)(l.a.Item,{name:"logout",active:"logout"===n,onClick:function(e){a(e.target.name),fetch("/logout",{method:"DELETE"}).then((function(e){e.ok?b([]):e.json().then((function(e){g(e.errors),window.alert(x)}))}))},as:j.b,to:"/login"})]})})},v=n(15),m=n(146),y=n.n(m),C=n(214),S=n(209),k=function(){var e=Object(u.c)(x),t=Object(s.a)(e,2),n=(t[0],t[1]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("label",{children:[Object(f.jsx)("strong",{children:"Filter by tags:"}),Object(f.jsxs)("select",{onChange:function(e){return n(e.target.value)},children:[Object(f.jsx)("option",{value:"All",children:"All"}),Object(f.jsx)("option",{value:"Fashion",children:"Fashion"}),Object(f.jsx)("option",{value:"Travel",children:"Travel"}),Object(f.jsx)("option",{value:"Music",children:"Music"}),Object(f.jsx)("option",{value:"DIY",children:"DIY"}),Object(f.jsx)("option",{value:"Sports",children:"Sports"}),Object(f.jsx)("option",{value:"Lifestyle",children:"Lifestyle"}),Object(f.jsx)("option",{value:"Finance",children:"Finance"}),Object(f.jsx)("option",{value:"Politics",children:"Politics"}),Object(f.jsx)("option",{value:"Parenting",children:"Parenting"}),Object(f.jsx)("option",{value:"Movies",children:"Movies"}),Object(f.jsx)("option",{value:"Tech",children:"Tech"}),Object(f.jsx)("option",{value:"Development",children:"Development"}),Object(f.jsx)("option",{value:"Gaming",children:"Gaming"}),Object(f.jsx)("option",{value:"Auto",children:"Auto"})]})]})})},T=n(10),w={loading:!1,results:[],value:""};function E(e,t){switch(t.type){case"CLEAN_QUERY":return w;case"START_SEARCH":return Object(v.a)(Object(v.a)({},e),{},{loading:!0,value:t.query});case"FINISH_SEARCH":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,results:t.results});case"UPDATE_SELECTION":return Object(v.a)(Object(v.a)({},e),{},{value:t.selection});default:throw new Error}}var A=function(){var e=Object(T.l)(),t=Object(u.d)(b),n=a.a.useReducer(E,w),c=Object(s.a)(n,2),i=c[0],r=c[1],o=i.loading,l=i.results,j=i.value,O=a.a.useRef(),d=a.a.useCallback((function(e,n){clearTimeout(O.current),r({type:"START_SEARCH",query:n.value}),O.current=setTimeout((function(){if(0!==n.value.length){var e=new RegExp(y.a.escapeRegExp(n.value),"i");r({type:"FINISH_SEARCH",results:y.a.filter(t,(function(t){return e.test(t.title)}))})}else r({type:"CLEAN_QUERY"})}),300)}),[t]);return a.a.useEffect((function(){return function(){clearTimeout(O.current)}}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(C.a,{children:[Object(f.jsx)(C.a.Column,{width:12,children:Object(f.jsx)(S.a,{input:{fluid:!0},loading:o,placeholder:"Search...",onResultSelect:function(t,n){r({type:"UPDATE_SELECTION",selection:n.result.title}),e("/".concat(n.result.slug))},onSearchChange:d,results:l,value:j,onClick:null})}),Object(f.jsx)(k,{})]})})};var N=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(g,{}),Object(f.jsx)(A,{})]})};var I=function(){return Object(f.jsx)(o.a,{inverted:!0,padded:!0,textAlign:"center",children:Object(f.jsx)("div",{children:"\xa9 2022 All rights reserved."})})},F=n(211);var P=function(){var e=Object(T.l)(),t=Object(u.c)(b),n=Object(s.a)(t,2),a=n[0],i=n[1],r=Object(u.d)(x);Object(c.useEffect)((function(){fetch("/blogs").then((function(e){return e.json()})).then((function(e){i(e)}))}),[i]);var o=a.map((function(t){if("All"===r||t.tag.category===r)return Object(f.jsx)(F.a,{fluid:!0,color:"black",header:t.title,extra:"".concat(t.content.substring(0,300),"..."),description:"Written by: ".concat(t.user.first_name," ").concat(t.user.last_name),meta:"category: ".concat(t.tag.category),onClick:function(){return e("/".concat(t.slug))}},t.id)}));return Object(f.jsx)(F.a.Group,{children:o})},_=n(208),L=n(195),R=n(212),D=n(216),H=(n(191),n.p+"static/media/logo.4e14894b.png");var J=function(e){return Object(f.jsx)("div",{className:"auth-main",children:Object(f.jsx)("div",{class:"auth-content",children:Object(f.jsxs)("div",{className:"auth-card",children:[Object(f.jsx)("img",{src:H,alt:"Logo",className:"auth-logo"}),Object(f.jsx)(D.a,{as:"h2",color:"black",textAlign:"center",children:e.header}),Object(f.jsx)(_.a.Group,{size:"large",className:"auth-form",autoComplete:"off",children:e.children})]})})})};var Y=function(){var e=Object(u.c)(O),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(u.c)(d),i=Object(s.a)(a,2),r=(i[0],i[1]),o=Object(u.c)(h),l=Object(s.a)(o,2),b=l[0],x=l[1],g=Object(u.c)(p),v=Object(s.a)(g,2),m=v[0],y=v[1],C=Object(T.l)();return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(J,{header:"Log in",children:[Object(f.jsxs)(_.a,{onSubmit:function(e){e.preventDefault();var t={email:b,password:m};fetch("/login",{method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify(t)}).then((function(e){e.ok?e.json().then((function(e){r(e),C("/blogs")})):e.json().then((function(e){c(e.errors),window.alert(n)}))}))},children:[Object(f.jsx)(_.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",className:"auth-input-field",value:b,onChange:function(e){return x(e.target.value)}}),Object(f.jsx)(_.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",className:"auth-input-field",value:m,onChange:function(e){return y(e.target.value)}}),Object(f.jsx)(L.a,{color:"teal",fluid:!0,size:"huge",type:"submit",children:"Login"})]}),Object(f.jsx)(R.a,{size:"big",children:Object(f.jsx)(j.b,{to:"/signup",children:"Not Registered?"})})]})})};var G=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),r=Object(s.a)(i,2),o=r[0],l=r[1],u=Object(c.useState)(""),b=Object(s.a)(u,2),O=b[0],d=b[1],h=Object(c.useState)(""),p=Object(s.a)(h,2),x=p[0],g=p[1],v=Object(c.useState)(""),m=Object(s.a)(v,2),y=m[0],C=m[1],S=Object(T.l)();return Object(f.jsxs)(J,{header:"Sign up to get started",children:[Object(f.jsxs)(_.a,{onSubmit:function(e){e.preventDefault();var t={first_name:n,last_name:o,email:O,password:x,avatar:y};fetch("/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.ok&&S("/thank-you")}))},children:[Object(f.jsx)(_.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"First Name",className:"auth-input-field",name:"first_name",value:n,onChange:function(e){return a(e.target.value)}}),Object(f.jsx)(_.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"Last Name",className:"auth-input-field",name:"last_name",value:o,onChange:function(e){return l(e.target.value)}}),Object(f.jsx)(_.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"Email",className:"auth-input-field",name:"email",value:O,onChange:function(e){return d(e.target.value)}}),Object(f.jsx)(_.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",className:"auth-input-field",name:"password",value:x,onChange:function(e){return g(e.target.value)}}),Object(f.jsx)(_.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"Upload Your Avatar",type:"file",className:"auth-input-field",name:"avatar",value:y,onChange:function(e){return C(e.target.value)}}),Object(f.jsx)(L.a,{color:"teal",fluid:!0,size:"huge",type:"submit",children:"Sign up"})]}),Object(f.jsx)(R.a,{size:"big",children:Object(f.jsx)(j.b,{to:"/login",children:"Already Registered?"})})]})},M=n(12),U=n.n(M),z=n(24);var B=function(){var e=Object(u.c)(d),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(!1),r=Object(s.a)(i,2),l=r[0],j=r[1],b=Object(c.useState)(""),O=Object(s.a)(b,2),h=O[0],p=O[1],x=Object(c.useState)(""),g=Object(s.a)(x,2),m=g[0],y=g[1],C=Object(c.useState)(""),S=Object(s.a)(C,2),k=S[0],T=S[1];function w(){return(w=Object(z.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/blogs/".concat(t),{method:"DELETE"});case 3:a((function(e){return Object(v.a)(Object(v.a)({},e),{},{blogs:e.blogs.filter((function(e){return e.id!==t}))})})),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function E(){return(E=Object(z.a)(U.a.mark((function e(t){var n,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={title:h,content:m},e.prev=1,e.next=4,fetch("/blogs/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()}));case 4:c=e.sent,a((function(e){return Object(v.a)(Object(v.a)({},e),{},{blogs:e.blogs.map((function(e){return e.id===c.id?c:e}))})})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}Object(c.useEffect)((function(e){fetch("/users/".concat(n.id)).then((function(e){return e.json()})).then((function(e){a(e)}))}),[a,n.id,h,m]);var A=n.blogs?n.blogs.map((function(e){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(F.a,{fluid:!0,color:"black",header:e.title,description:"".concat(e.content.substring(0,300),"..."),extra:Object(f.jsxs)("div",{children:[Object(f.jsx)(L.a,{onClick:function(t){j(!l),T(e),p(e.title),y(e.content)},children:"Edit"}),Object(f.jsx)(L.a,{color:"red",onClick:function(){return function(e){return w.apply(this,arguments)}(e.id)},children:"Delete"})]})},e.id)})})):Object(f.jsx)(o.a,{children:Object(f.jsx)(D.a,{as:"h1",children:"Please log in to see your blogs"})});return Object(f.jsxs)(F.a.Group,{children:[A,l&&Object(f.jsx)(o.a,{children:Object(f.jsxs)(_.a,{onSubmit:function(){!function(e){E.apply(this,arguments)}(k),j(!1)},children:[Object(f.jsxs)(_.a.Field,{children:[Object(f.jsx)("label",{children:"Title"}),Object(f.jsx)("input",{name:"title",value:h,onChange:function(e){return p(e.target.value)}}),Object(f.jsx)("label",{children:"Content"}),Object(f.jsx)("input",{name:"content",value:m,onChange:function(e){return y(e.target.value)}})]}),Object(f.jsx)(L.a,{type:"submit",children:"Save Changes"}),Object(f.jsx)(L.a,{onClick:function(){return j(!1)},children:"Cancel"})]})})]})},q=n(25),Q=n(207);var W=function(){var e=Object(u.d)(b),t=Object(T.n)().slug,n=Object(c.useState)(""),a=Object(s.a)(n,2),i=a[0],r=a[1],o=Object(u.c)(d),l=Object(s.a)(o,2),j=l[0],O=(l[1],e.find((function(e){return e.slug===t}))),h=Object(c.useState)(O.reviews.map((function(e){return{comment:e.comment}}))),p=Object(s.a)(h,2),x=p[0],g=p[1];return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(Q.a,{children:[Object(f.jsx)(D.a,{children:O.title}),Object(f.jsx)("img",{alt:O.user.first_name,src:O.user.avatar,width:"200px",height:"200px"}),Object(f.jsx)("h4",{children:"Written by: ".concat(O.user.first_name," ").concat(O.user.last_name)}),Object(f.jsx)("p",{children:O.content}),Object(f.jsx)("p",{children:"Category: ".concat(O.tag.category)}),Object(f.jsx)(D.a,{as:"h1",children:"Reviews"}),x.map((function(e){return Object(f.jsx)("h4",{children:e.comment})})),Object(f.jsx)(D.a,{as:"h1",children:"Leave A Review"}),Object(f.jsxs)(_.a,{onSubmit:function(e){return function(e){e.preventDefault();var t={comment:i,blog_id:O.id,user_id:j.id},n={method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify(t)};fetch("/reviews",n).then((function(e){return e.json()})).then((function(e){g([].concat(Object(q.a)(x),[{comment:i}]))}))}(e)},children:[Object(f.jsxs)(_.a.Field,{children:[Object(f.jsx)("label",{children:"Comment"}),Object(f.jsx)("input",{name:"comment",value:i,onChange:function(e){return r(e.target.value)}})]}),Object(f.jsx)(L.a,{type:"submit",children:"Comment"})]})]})})},K=n(34);var V=function(){var e=Object(u.d)(d),t=Object(c.useState)(""),n=Object(s.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(""),o=Object(s.a)(r,2),l=o[0],j=o[1],b=Object(c.useState)(""),O=Object(s.a)(b,2),h=O[0],p=O[1],x=Object(c.useState)([]),g=Object(s.a)(x,2),v=(g[0],g[1],Object(T.l)());return Object(f.jsxs)(_.a,{onSubmit:function(t){t.preventDefault();var n={title:a,content:l,tag_id:h,user_id:e.id},c={method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify(n)};fetch("/blogs",c).then((function(e){e.ok&&v("/posted")}))},children:[Object(f.jsxs)(K.a,{children:[Object(f.jsx)("label",{children:"Title"}),Object(f.jsx)("input",{name:"title",value:a,onChange:function(e){return i(e.target.value)}})]}),Object(f.jsxs)(K.a,{children:[Object(f.jsx)("label",{children:"Tell your story below..."}),Object(f.jsx)("input",{name:"content",value:l,onChange:function(e){return j(e.target.value)}})]}),Object(f.jsxs)("label",{children:[Object(f.jsx)("strong",{children:"Add a tag..."}),Object(f.jsxs)("select",{onChange:function(e){return p(e.target.value)},children:[Object(f.jsx)("option",{children:"Add a tag"}),Object(f.jsx)("option",{value:"1",children:"Fashion"}),Object(f.jsx)("option",{value:"2",children:"Travel"}),Object(f.jsx)("option",{value:"3",children:"Music"}),Object(f.jsx)("option",{value:"4",children:"DIY"}),Object(f.jsx)("option",{value:"5",children:"Sports"}),Object(f.jsx)("option",{value:"6",children:"Lifestyle"}),Object(f.jsx)("option",{value:"7",children:"Finance"}),Object(f.jsx)("option",{value:"8",children:"Politics"}),Object(f.jsx)("option",{value:"9",children:"Parenting"}),Object(f.jsx)("option",{value:"10",children:"Movies"}),Object(f.jsx)("option",{value:"11",children:"Tech"}),Object(f.jsx)("option",{value:"12",children:"Development"}),Object(f.jsx)("option",{value:"13",children:"Gaming"}),Object(f.jsx)("option",{value:"14",children:"Auto"})]})]}),Object(f.jsx)(L.a,{type:"submit",children:"Submit"})]})},X=n(133),Z=n.n(X);var $=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Z.a,{}),Object(f.jsxs)(R.a,{children:[Object(f.jsx)(R.a.Header,{children:"Thank you for signing up!"}),Object(f.jsxs)(R.a.List,{children:[Object(f.jsx)(R.a.Item,{children:"Navigate though the navbar to create a blog!"}),Object(f.jsx)(R.a.Item,{children:"Or click the logout button to logout."})]})]})]})};var ee=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Z.a,{}),Object(f.jsxs)(R.a,{children:[Object(f.jsx)(R.a.Header,{children:"Your blog has been successfully posted!"}),Object(f.jsx)(R.a.List,{children:Object(f.jsx)(R.a.Item,{children:"Navigate to your blogs to check it out!"})})]})]})};var te=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(N,{}),Object(f.jsxs)(T.c,{children:[Object(f.jsx)(T.a,{path:"/",element:Object(f.jsx)(P,{})}),Object(f.jsx)(T.a,{path:"/login",element:Object(f.jsx)(Y,{})}),Object(f.jsx)(T.a,{path:"/signup",element:Object(f.jsx)(G,{})}),Object(f.jsx)(T.a,{path:"/blogs",element:Object(f.jsx)(B,{})}),Object(f.jsx)(T.a,{path:"/:slug",element:Object(f.jsx)(W,{})}),Object(f.jsx)(T.a,{path:"/create",element:Object(f.jsx)(V,{})}),Object(f.jsx)(T.a,{path:"/thank-you",element:Object(f.jsx)($,{})}),Object(f.jsx)(T.a,{path:"/posted",element:Object(f.jsx)(ee,{})})]}),Object(f.jsx)(I,{})]})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,217)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};n(192);r.a.render(Object(f.jsx)(u.a,{children:Object(f.jsx)(j.a,{children:Object(f.jsx)(te,{})})}),document.getElementById("root")),ne()}},[[193,1,2]]]);
//# sourceMappingURL=main.3b24276e.chunk.js.map